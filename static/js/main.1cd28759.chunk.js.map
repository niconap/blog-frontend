{"version":3,"sources":["Articles.js","Home.js","ArticleDetail.js","Routes.js","index.js"],"names":["Articles","useState","articles","setArticles","error","setError","isLoaded","setIsLoaded","useEffect","fetch","mode","method","then","response","json","result","catch","length","id","map","article","Math","floor","random","title","author","firstname","lastname","username","className","to","_id","Home","shape","num","ArticleDetail","setTitle","setAuthor","timestamp","setTimestamp","content","setContent","name","setName","commentContent","setCommentContent","comments","setComments","useParams","post","DateTime","fromISO","toLocaleString","day","month","hour","hour12","minute","console","log","results","onSubmit","e","preventDefault","headers","body","JSON","stringify","uniqid","action","type","placeholder","required","value","onChange","target","comment","Routes","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0NAyFeA,MAtFf,WACE,MAAgCC,mBAAS,IAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA0BF,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAgCJ,oBAAS,GAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KAkBA,OAhBAC,qBAAU,WACRC,MAAM,gCAAiC,CACrCC,KAAM,OACNC,OAAQ,QAEPC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACLZ,EAAYY,GACZR,GAAY,MAEbS,OAAM,SAACZ,GACNC,EAASD,GACTG,GAAY,QAEf,IAECH,EAEA,gCACE,mDACA,2DAGME,EAMDJ,EAASe,OAAS,EAEzB,qBAAKC,GAAG,WAAR,SACGhB,EAASiB,KAAI,SAACC,GAEb,OAAY,IADFC,KAAKC,MAAsB,EAAhBD,KAAKE,UAAgB,EAGtC,+BACE,6BAAKH,EAAQI,QACb,oCACMJ,EAAQK,OAAOC,UADrB,IACiCN,EAAQK,OAAOE,SADhD,KAEGP,EAAQK,OAAOG,SAFlB,OAIA,cAAC,IAAD,CACEC,UAAU,WACVC,GAAI,0BAA4BV,EAAQW,IAF1C,0BAMA,qBAAKF,UAAU,aAZRT,EAAQW,KAiBjB,+BACE,6BAAKX,EAAQI,QACb,oCACMJ,EAAQK,OAAOC,UADrB,IACiCN,EAAQK,OAAOE,SADhD,KAEGP,EAAQK,OAAOG,SAFlB,OAIA,cAAC,IAAD,CACEC,UAAU,WACVC,GAAI,0BAA4BV,EAAQW,IAF1C,0BAMA,qBAAKF,UAAU,aAZRT,EAAQW,UAqBzB,qBAAKb,GAAG,UAAR,SACE,mEAlDF,8BACE,uDCdOc,ICfXC,EDeWD,EAjBf,WACE,OACE,gCACE,sBAAKd,GAAG,OAAR,UACE,qDACA,kHAIA,qBAAKA,GAAG,WACR,qBAAKA,GAAG,cAEV,cAAC,EAAD,Q,iCCTFgB,EAAMb,KAAKC,MAAsB,EAAhBD,KAAKE,UAAgB,EAExCU,EADU,IAARC,EACM,cAEA,cAwKKC,MArKf,WACE,MAA0BlC,mBAAS,IAAnC,mBAAOuB,EAAP,KAAcY,EAAd,KACA,EAA4BnC,mBAAS,IAArC,mBAAOwB,EAAP,KAAeY,EAAf,KACA,EAAkCpC,mBAAS,IAA3C,mBAAOqC,EAAP,KAAkBC,EAAlB,KACA,EAA8BtC,mBAAS,IAAvC,mBAAOuC,EAAP,KAAgBC,EAAhB,KACA,EAAwBxC,mBAAS,IAAjC,mBAAOyC,EAAP,KAAaC,EAAb,KACA,EAA4C1C,mBAAS,IAArD,mBAAO2C,EAAP,KAAuBC,EAAvB,KACA,EAAgC5C,mBAAS,IAAzC,mBAAO6C,EAAP,KAAiBC,EAAjB,KACA,EAA0B9C,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAAgCJ,oBAAS,GAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KACQW,EAAO8B,cAAP9B,GAuFR,OArFAV,qBAAU,WACRC,MAAM,iCAAD,OAAkCS,GAAM,CAC3CR,KAAM,OACNC,OAAQ,QAEPC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACG,GACL,IAAMkC,EAASlC,EAATkC,KACNb,EAASa,EAAKzB,OACda,EAAU,GAAD,OAAIY,EAAKxB,OAAOC,UAAhB,YAA6BuB,EAAKxB,OAAOE,WAClDY,EACEW,WAASC,QAAQF,EAAKX,WAAWc,eAAe,CAC9CC,IAAK,UACLC,MAAO,OACPC,KAAM,UACNC,QAAQ,EACRC,OAAQ,aAGZhB,EAAWQ,EAAKT,SAChBjC,GAAY,MAEbS,OAAM,SAACZ,GACNC,EAASD,GACTsD,QAAQC,IAAIvD,GACZG,GAAY,MAEhBE,MAAM,iCAAD,OAAkCS,EAAlC,aAAiD,CACpDR,KAAM,OACNC,OAAQ,QAEPC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACgD,GACDA,EAAQxD,OAGV2C,EAAYa,MAGf5C,OAAM,SAACZ,GACNC,EAASD,GACTsD,QAAQC,IAAIvD,QAEf,CAACc,IA0CAd,EAEA,sBAAKc,GAAG,QAAR,UACE,mDACA,2DAGMZ,EAQR,sBAAKY,GAAG,YAAR,UACE,sBAAKA,GAAG,UAAR,UACE,6BAAKM,IACL,qBAAKN,GAAIe,IACT,6BAAKR,IACL,4CAAea,KACf,mBAAGpB,GAAG,cAAN,SAAqBsB,OAEvB,qBAAKtB,GAAG,cAAR,SACE,uBAAM2C,SAxDd,SAAuBC,GACrBA,EAAEC,iBACFtD,MAAM,iCAAD,OAAkCS,EAAlC,aAAiD,CACpDR,KAAM,OACNC,OAAQ,OACRqD,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBzB,KAAMA,EACNF,QAASI,MAGVhC,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACgD,GACLb,EAAY,GAAD,mBACND,GADM,CAET,CACEf,IAAKqC,MACL1B,KAAMA,EACNF,QAASI,SAIdhC,MAAK,WACJiC,EAAkB,IAClBF,EAAQ,OAET3B,OAAM,SAACZ,GACNC,EAASD,GACTsD,QAAQC,IAAIvD,OA4BqBiE,OAAO,GAAtC,UACE,uBACEC,KAAK,OACL5B,KAAK,OACL6B,YAAY,UACZC,SAAS,OACTC,MAAO/B,EACPgC,SAvEZ,SAA0BZ,GACxBnB,EAAQmB,EAAEa,OAAOF,UAwET,uBACEH,KAAK,OACL5B,KAAK,UACL6B,YAAY,aACZC,SAAS,OACTC,MAAO7B,EACP8B,SA3EZ,SAAoCZ,GAClCjB,EAAkBiB,EAAEa,OAAOF,UA4EnB,+CAGJ,qBAAKvD,GAAG,WAAR,SACG4B,EAAS3B,KAAI,SAACyD,GACb,OACE,sBAAuB/C,UAAU,UAAjC,UACE,6BAAK+C,EAAQlC,OACb,4BAAIkC,EAAQpC,UACZ,mBAAGtB,GAAG,mBAAN,SACGgC,WAASC,QAAQyB,EAAQtC,WAAWc,eAAe,CAClDC,IAAK,UACLC,MAAO,OACPC,KAAM,UACNC,QAAQ,EACRC,OAAQ,gBATJmB,EAAQ7C,aAtC1B,qBAAKb,GAAG,UAAR,SACE,uDC7FO2D,EAtBA,WACb,OACE,eAAC,IAAD,WACE,8BACE,6BACE,cAAC,IAAD,CAAMhD,UAAU,YAAYC,GAAG,iBAA/B,6BAKJ,eAAC,IAAD,WACE,cAAC,IAAD,CAAOgD,KAAK,iBAAiBC,OAAK,EAAlC,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOD,KAAK,6BAAZ,SACE,cAAC,EAAD,aCfVE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.1cd28759.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Articles() {\n  const [articles, setArticles] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  useEffect(() => {\n    fetch('https://niconap.ga/blog/posts', {\n      mode: 'cors',\n      method: 'GET',\n    })\n      .then((response) => response.json())\n      .then((result) => {\n        setArticles(result);\n        setIsLoaded(true);\n      })\n      .catch((error) => {\n        setError(error);\n        setIsLoaded(true);\n      });\n  }, []);\n\n  if (error) {\n    return (\n      <div>\n        <h1>An error occured!</h1>\n        <p>Try reloading the page.</p>\n      </div>\n    );\n  } else if (!isLoaded) {\n    return (\n      <div>\n        <h1>Loading content...</h1>\n      </div>\n    );\n  } else if (articles.length > 0) {\n    return (\n      <div id=\"articles\">\n        {articles.map((article) => {\n          let num = Math.floor(Math.random() * 2) + 1;\n          if (num === 1) {\n            return (\n              <li key={article._id}>\n                <h3>{article.title}</h3>\n                <p>\n                  By {article.author.firstname} {article.author.lastname} (\n                  {article.author.username})\n                </p>\n                <Link\n                  className=\"readmore\"\n                  to={'/blog-frontend/article/' + article._id}\n                >\n                  Read more...\n                </Link>\n                <div className=\"square\"></div>\n              </li>\n            );\n          } else {\n            return (\n              <li key={article._id}>\n                <h3>{article.title}</h3>\n                <p>\n                  By {article.author.firstname} {article.author.lastname} (\n                  {article.author.username})\n                </p>\n                <Link\n                  className=\"readmore\"\n                  to={'/blog-frontend/article/' + article._id}\n                >\n                  Read more...\n                </Link>\n                <div className=\"circle\"></div>\n              </li>\n            );\n          }\n        })}\n      </div>\n    );\n  } else {\n    return (\n      <div id=\"message\">\n        <p>Currently there are no articles.</p>\n      </div>\n    );\n  }\n}\n\nexport default Articles;\n","import React from 'react';\nimport Articles from './Articles';\n\nfunction Home() {\n  return (\n    <div>\n      <div id=\"info\">\n        <h1>Welcome to my blog!</h1>\n        <p>\n          On this blog you can find articles about all sorts of subjects! Enjoy\n          reading! :)\n        </p>\n        <div id=\"circle\"></div>\n        <div id=\"square\"></div>\n      </div>\n      <Articles />\n    </div>\n  );\n}\n\nexport default Home;\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { DateTime } from 'luxon';\nimport uniqid from 'uniqid';\n\nlet shape;\nlet num = Math.floor(Math.random() * 2) + 1;\nif (num === 1) {\n  shape = 'titlecircle';\n} else {\n  shape = 'titlesquare';\n}\n\nfunction ArticleDetail() {\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [timestamp, setTimestamp] = useState('');\n  const [content, setContent] = useState('');\n  const [name, setName] = useState('');\n  const [commentContent, setCommentContent] = useState('');\n  const [comments, setComments] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const { id } = useParams();\n\n  useEffect(() => {\n    fetch(`https://niconap.ga/blog/posts/${id}`, {\n      mode: 'cors',\n      method: 'GET',\n    })\n      .then((response) => response.json())\n      .then((result) => {\n        let { post } = result;\n        setTitle(post.title);\n        setAuthor(`${post.author.firstname} ${post.author.lastname}`);\n        setTimestamp(\n          DateTime.fromISO(post.timestamp).toLocaleString({\n            day: 'numeric',\n            month: 'long',\n            hour: 'numeric',\n            hour12: false,\n            minute: 'numeric',\n          })\n        );\n        setContent(post.content);\n        setIsLoaded(true);\n      })\n      .catch((error) => {\n        setError(error);\n        console.log(error);\n        setIsLoaded(true);\n      });\n    fetch(`https://niconap.ga/blog/posts/${id}/comments`, {\n      mode: 'cors',\n      method: 'GET',\n    })\n      .then((response) => response.json())\n      .then((results) => {\n        if (results.error) {\n          return;\n        } else {\n          setComments(results);\n        }\n      })\n      .catch((error) => {\n        setError(error);\n        console.log(error);\n      });\n  }, [id]);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleCommentContentChange(e) {\n    setCommentContent(e.target.value);\n  }\n\n  function submitComment(e) {\n    e.preventDefault();\n    fetch(`https://niconap.ga/blog/posts/${id}/comments`, {\n      mode: 'cors',\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        name: name,\n        content: commentContent,\n      }),\n    })\n      .then((response) => response.json())\n      .then((results) => {\n        setComments([\n          ...comments,\n          {\n            _id: uniqid(),\n            name: name,\n            content: commentContent,\n          },\n        ]);\n      })\n      .then(() => {\n        setCommentContent('');\n        setName('');\n      })\n      .catch((error) => {\n        setError(error);\n        console.log(error);\n      });\n  }\n\n  if (error) {\n    return (\n      <div id=\"error\">\n        <h1>An error occured!</h1>\n        <p>Try reloading the page.</p>\n      </div>\n    );\n  } else if (!isLoaded) {\n    return (\n      <div id=\"loading\">\n        <h1>Loading content...</h1>\n      </div>\n    );\n  } else {\n    return (\n      <div id=\"container\">\n        <div id=\"content\">\n          <h1>{title}</h1>\n          <div id={shape}></div>\n          <h2>{author}</h2>\n          <h4>Posted on {timestamp}</h4>\n          <p id=\"articletext\">{content}</p>\n        </div>\n        <div id=\"commentform\">\n          <form onSubmit={submitComment} action=\"\">\n            <input\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"Name...\"\n              required=\"true\"\n              value={name}\n              onChange={handleNameChange}\n            />\n            <input\n              type=\"text\"\n              name=\"content\"\n              placeholder=\"Comment...\"\n              required=\"true\"\n              value={commentContent}\n              onChange={handleCommentContentChange}\n            />\n            <button>Post</button>\n          </form>\n        </div>\n        <div id=\"comments\">\n          {comments.map((comment) => {\n            return (\n              <div key={comment._id} className=\"comment\">\n                <h4>{comment.name}</h4>\n                <p>{comment.content}</p>\n                <p id=\"commenttimestamp\">\n                  {DateTime.fromISO(comment.timestamp).toLocaleString({\n                    day: 'numeric',\n                    month: 'long',\n                    hour: 'numeric',\n                    hour12: false,\n                    minute: 'numeric',\n                  })}\n                </p>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ArticleDetail;\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\nimport Home from './Home';\nimport ArticleDetail from './ArticleDetail';\n\nconst Routes = () => {\n  return (\n    <Router>\n      <nav>\n        <h1>\n          <Link className=\"pagetitle\" to=\"/blog-frontend\">\n            Nico's blog\n          </Link>\n        </h1>\n      </nav>\n      <Switch>\n        <Route path=\"/blog-frontend\" exact>\n          <Home />\n        </Route>\n        <Route path=\"/blog-frontend/article/:id\">\n          <ArticleDetail />\n        </Route>\n      </Switch>\n    </Router>\n  );\n};\n\nexport default Routes;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Routes from './Routes';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}