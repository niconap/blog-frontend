(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[0],{23:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),r=c(17),o=c.n(r),s=(c(23),c(8)),a=c(2),j=c(4),d=c(0);var l=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],i=t[1],r=Object(n.useState)(null),o=Object(j.a)(r,2),a=o[0],l=o[1],h=Object(n.useState)(!1),b=Object(j.a)(h,2),u=b[0],O=b[1];return Object(n.useEffect)((function(){fetch("https://niconap.ga/blog/posts",{mode:"cors",method:"GET"}).then((function(e){return e.json()})).then((function(e){i(e),O(!0)})).catch((function(e){l(e),O(!0)}))}),[]),a?Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"An error occured!"}),Object(d.jsx)("p",{children:"Try reloading the page."})]}):u?c.length>0?Object(d.jsx)("div",{id:"articles",children:c.map((function(e){return 1===Math.floor(2*Math.random())+1?Object(d.jsxs)("li",{children:[Object(d.jsx)("h3",{children:e.title}),Object(d.jsxs)("p",{children:["By ",e.author.firstname," ",e.author.lastname," (",e.author.username,")"]}),Object(d.jsx)(s.b,{className:"readmore",to:"/blog/article/"+e._id,children:"Read more..."}),Object(d.jsx)("div",{className:"square"})]},e._id):Object(d.jsxs)("li",{children:[Object(d.jsx)("h3",{children:e.title}),Object(d.jsxs)("p",{children:["By ",e.author.firstname," ",e.author.lastname," (",e.author.username,")"]}),Object(d.jsx)(s.b,{className:"readmore",to:"/blog/article/"+e._id,children:"Read more..."}),Object(d.jsx)("div",{className:"circle"})]},e._id)}))}):Object(d.jsx)("div",{id:"message",children:Object(d.jsx)("p",{children:"Currently there are no articles."})}):Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Loading content..."})})};var h,b=function(){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{id:"info",children:[Object(d.jsx)("h1",{children:"Welcome to my blog!"}),Object(d.jsx)("p",{children:"On this blog you can find articles about all sorts of subjects! Enjoy reading! :)"}),Object(d.jsx)("div",{id:"circle"}),Object(d.jsx)("div",{id:"square"})]}),Object(d.jsx)(l,{})]})},u=c(15),O=Math.floor(2*Math.random())+1;h=1===O?"titlecircle":"titlesquare";var m=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],i=t[1],r=Object(n.useState)(""),o=Object(j.a)(r,2),s=o[0],l=o[1],b=Object(n.useState)(""),O=Object(j.a)(b,2),m=O[0],x=O[1],f=Object(n.useState)(""),p=Object(j.a)(f,2),g=p[0],v=p[1],S=Object(n.useState)(""),y=Object(j.a)(S,2),N=y[0],T=y[1],E=Object(n.useState)(""),q=Object(j.a)(E,2),C=q[0],M=q[1],_=Object(n.useState)([]),w=Object(j.a)(_,2),L=w[0],B=w[1],D=Object(n.useState)(null),G=Object(j.a)(D,2),I=G[0],J=G[1],P=Object(n.useState)(!1),k=Object(j.a)(P,2),A=k[0],R=k[1],W=Object(a.f)().id;return Object(n.useEffect)((function(){fetch("https://niconap.ga/blog/posts/".concat(W),{mode:"cors",method:"GET"}).then((function(e){return e.json()})).then((function(e){var t=e.post;i(t.title),l("".concat(t.author.firstname," ").concat(t.author.lastname)),x(u.DateTime.fromISO(t.timestamp).toLocaleString({day:"numeric",month:"long",hour:"numeric",hour12:!1,minute:"numeric"})),v(t.content),R(!0)})).catch((function(e){J(e),console.log(e),R(!0)})),fetch("https://niconap.ga/blog/posts/".concat(W,"/comments"),{mode:"cors",method:"GET"}).then((function(e){return e.json()})).then((function(e){e.error||B(e)})).catch((function(e){J(e),console.log(e)}))}),[W]),I?Object(d.jsxs)("div",{id:"error",children:[Object(d.jsx)("h1",{children:"An error occured!"}),Object(d.jsx)("p",{children:"Try reloading the page."})]}):A?Object(d.jsxs)("div",{id:"container",children:[Object(d.jsxs)("div",{id:"content",children:[Object(d.jsx)("h1",{children:c}),Object(d.jsx)("div",{id:h}),Object(d.jsx)("h2",{children:s}),Object(d.jsxs)("h4",{children:["Posted on ",m]}),Object(d.jsx)("p",{id:"articletext",children:g})]}),Object(d.jsx)("div",{id:"commentform",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("https://niconap.ga/blog/posts/".concat(W,"/comments"),{mode:"cors",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:N,content:C})}).catch((function(e){J(e),console.log(e)})).then(window.location.reload(!1))},action:"",children:[Object(d.jsx)("input",{type:"text",name:"name",placeholder:"Name...",required:"true",value:N,onChange:function(e){T(e.target.value)}}),Object(d.jsx)("input",{type:"text",name:"content",placeholder:"Comment...",required:"true",value:C,onChange:function(e){M(e.target.value)}}),Object(d.jsx)("button",{children:"Post"})]})}),Object(d.jsx)("div",{id:"comments",children:L.map((function(e){return Object(d.jsxs)("div",{className:"comment",children:[Object(d.jsx)("h4",{children:e.name}),Object(d.jsx)("p",{children:e.content}),Object(d.jsx)("p",{id:"commenttimestamp",children:u.DateTime.fromISO(e.timestamp).toLocaleString({day:"numeric",month:"long",hour:"numeric",hour12:!1,minute:"numeric"})})]},e._id)}))})]}):Object(d.jsx)("div",{id:"loading",children:Object(d.jsx)("h1",{children:"Loading content..."})})},x=function(){return Object(d.jsxs)(s.a,{children:[Object(d.jsx)("nav",{children:Object(d.jsx)("h1",{children:Object(d.jsx)(s.b,{className:"pagetitle",to:"/blog",children:"Nico's blog"})})}),Object(d.jsxs)(a.c,{children:[Object(d.jsx)(a.a,{path:"/blog",exact:!0,children:Object(d.jsx)(b,{})}),Object(d.jsx)(a.a,{path:"/blog/article/:id",children:Object(d.jsx)(m,{})})]})]})};o.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(x,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.24d2807c.chunk.js.map