(this["webpackJsonpblog-frontend"]=this["webpackJsonpblog-frontend"]||[]).push([[0],{27:function(e,t,c){},35:function(e,t,c){"use strict";c.r(t);var n=c(1),o=c.n(n),r=c(19),i=c.n(r),s=(c(27),c(8)),a=c(2),j=c(4),d=c(0);var l=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],o=t[1],r=Object(n.useState)(null),i=Object(j.a)(r,2),a=i[0],l=i[1],h=Object(n.useState)(!1),b=Object(j.a)(h,2),u=b[0],O=b[1];return Object(n.useEffect)((function(){fetch("https://niconap.ga/blog/posts",{mode:"cors",method:"GET"}).then((function(e){return e.json()})).then((function(e){o(e),O(!0)})).catch((function(e){l(e),O(!0)}))}),[]),a?Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"An error occured!"}),Object(d.jsx)("p",{children:"Try reloading the page."})]}):u?c.length>0?Object(d.jsx)("div",{id:"articles",children:c.map((function(e){return 1===Math.floor(2*Math.random())+1?Object(d.jsxs)("li",{children:[Object(d.jsx)("h3",{children:e.title}),Object(d.jsxs)("p",{children:["By ",e.author.firstname," ",e.author.lastname," (",e.author.username,")"]}),Object(d.jsx)(s.b,{className:"readmore",to:"/blog-frontend/article/"+e._id,children:"Read more..."}),Object(d.jsx)("div",{className:"square"})]},e._id):Object(d.jsxs)("li",{children:[Object(d.jsx)("h3",{children:e.title}),Object(d.jsxs)("p",{children:["By ",e.author.firstname," ",e.author.lastname," (",e.author.username,")"]}),Object(d.jsx)(s.b,{className:"readmore",to:"/blog-frontend/article/"+e._id,children:"Read more..."}),Object(d.jsx)("div",{className:"circle"})]},e._id)}))}):Object(d.jsx)("div",{id:"message",children:Object(d.jsx)("p",{children:"Currently there are no articles."})}):Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Loading content..."})})};var h,b=function(){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{id:"info",children:[Object(d.jsx)("h1",{children:"Welcome to my blog!"}),Object(d.jsx)("p",{children:"On this blog you can find articles about all sorts of subjects! Enjoy reading! :)"}),Object(d.jsx)("div",{id:"circle"}),Object(d.jsx)("div",{id:"square"})]}),Object(d.jsx)(l,{})]})},u=c(22),O=c(17),m=c(21),x=c.n(m),f=Math.floor(2*Math.random())+1;h=1===f?"titlecircle":"titlesquare";var p=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],o=t[1],r=Object(n.useState)(""),i=Object(j.a)(r,2),s=i[0],l=i[1],b=Object(n.useState)(""),m=Object(j.a)(b,2),f=m[0],p=m[1],g=Object(n.useState)(""),v=Object(j.a)(g,2),S=v[0],y=v[1],N=Object(n.useState)(""),T=Object(j.a)(N,2),E=T[0],_=T[1],q=Object(n.useState)(""),C=Object(j.a)(q,2),M=C[0],L=C[1],B=Object(n.useState)([]),D=Object(j.a)(B,2),G=D[0],I=D[1],J=Object(n.useState)(null),P=Object(j.a)(J,2),k=P[0],w=P[1],A=Object(n.useState)(!1),R=Object(j.a)(A,2),W=R[0],z=R[1],F=Object(a.f)().id;return Object(n.useEffect)((function(){fetch("https://niconap.ga/blog/posts/".concat(F),{mode:"cors",method:"GET"}).then((function(e){return e.json()})).then((function(e){var t=e.post;o(t.title),l("".concat(t.author.firstname," ").concat(t.author.lastname)),p(O.DateTime.fromISO(t.timestamp).toLocaleString({day:"numeric",month:"long",hour:"numeric",hour12:!1,minute:"numeric"})),y(t.content),z(!0)})).catch((function(e){w(e),console.log(e),z(!0)})),fetch("https://niconap.ga/blog/posts/".concat(F,"/comments"),{mode:"cors",method:"GET"}).then((function(e){return e.json()})).then((function(e){e.error||I(e)})).catch((function(e){w(e),console.log(e)}))}),[F]),k?Object(d.jsxs)("div",{id:"error",children:[Object(d.jsx)("h1",{children:"An error occured!"}),Object(d.jsx)("p",{children:"Try reloading the page."})]}):W?Object(d.jsxs)("div",{id:"container",children:[Object(d.jsxs)("div",{id:"content",children:[Object(d.jsx)("h1",{children:c}),Object(d.jsx)("div",{id:h}),Object(d.jsx)("h2",{children:s}),Object(d.jsxs)("h4",{children:["Posted on ",f]}),Object(d.jsx)("p",{id:"articletext",children:S})]}),Object(d.jsx)("div",{id:"commentform",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("https://niconap.ga/blog/posts/".concat(F,"/comments"),{mode:"cors",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:E,content:M})}).then((function(e){return e.json()})).then((function(e){I([].concat(Object(u.a)(G),[{_id:x()(),name:E,content:M}]))})).then((function(){L(""),_("")})).catch((function(e){w(e),console.log(e)}))},action:"",children:[Object(d.jsx)("input",{type:"text",name:"name",placeholder:"Name...",required:"true",value:E,onChange:function(e){_(e.target.value)}}),Object(d.jsx)("input",{type:"text",name:"content",placeholder:"Comment...",required:"true",value:M,onChange:function(e){L(e.target.value)}}),Object(d.jsx)("button",{children:"Post"})]})}),Object(d.jsx)("div",{id:"comments",children:G.map((function(e){return Object(d.jsxs)("div",{className:"comment",children:[Object(d.jsx)("h4",{children:e.name}),Object(d.jsx)("p",{children:e.content}),Object(d.jsx)("p",{id:"commenttimestamp",children:O.DateTime.fromISO(e.timestamp).toLocaleString({day:"numeric",month:"long",hour:"numeric",hour12:!1,minute:"numeric"})})]},e._id)}))})]}):Object(d.jsx)("div",{id:"loading",children:Object(d.jsx)("h1",{children:"Loading content..."})})},g=function(){return Object(d.jsxs)(s.a,{children:[Object(d.jsx)("nav",{children:Object(d.jsx)("h1",{children:Object(d.jsx)(s.b,{className:"pagetitle",to:"/blog-frontend",children:"Nico's blog"})})}),Object(d.jsxs)(a.c,{children:[Object(d.jsx)(a.a,{path:"/blog-frontend",exact:!0,children:Object(d.jsx)(b,{})}),Object(d.jsx)(a.a,{path:"/blog-frontend/article/:id",children:Object(d.jsx)(p,{})})]})]})};i.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.1cd28759.chunk.js.map